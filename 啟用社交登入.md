# 🔐 啟用社交登入（Google、Facebook、Apple）

## ✅ 已完成的代碼修改

我已經在代碼中添加了社交登入功能：
- ✅ Google 登入
- ✅ Facebook 登入
- ✅ Apple 登入
- ✅ 更新了登入界面，添加了社交登入按鈕

---

## 📋 在 Firebase Console 中啟用社交登入

### 步驟 1：啟用 Google 登入

1. **前往 Firebase Console**：
   - 訪問：https://console.firebase.google.com/
   - 選擇項目：`nutriai-410`

2. **進入 Authentication**：
   - 點擊左側「**建構**」（Build）
   - 點擊「**Authentication**」

3. **啟用 Google**：
   - 點擊「**登入方法**」（Sign-in method）標籤
   - 找到「**Google**」
   - 點擊「**Google**」
   - 啟用「**Google**」開關
   - **項目支持電子郵件**：選擇您的項目電子郵件
   - 點擊「**儲存**」

**注意**：Google 登入不需要額外配置，可以直接使用。

---

### 步驟 2：啟用 Facebook 登入

1. **在 Authentication 中**：
   - 點擊「**登入方法**」標籤
   - 找到「**Facebook**」
   - 點擊「**Facebook**」

2. **啟用 Facebook**：
   - 啟用「**Facebook**」開關

3. **獲取 Facebook App ID 和 App Secret**：
   - 前往 [Facebook Developers](https://developers.facebook.com/)
   - 創建應用或選擇現有應用
   - 在「設定」→「基本」中獲取：
     - **App ID**
     - **App Secret**
   - 在「產品」中添加「Facebook 登入」
   - 設置「有效的 OAuth 重新導向 URI」：
     ```
     https://nutriai-410.firebaseapp.com/__/auth/handler
     ```

4. **在 Firebase 中填入**：
   - **App ID**：貼上您的 Facebook App ID
   - **App Secret**：貼上您的 Facebook App Secret
   - 點擊「**儲存**」

---

### 步驟 3：啟用 Apple 登入

1. **在 Authentication 中**：
   - 點擊「**登入方法**」標籤
   - 找到「**Apple**」
   - 點擊「**Apple**」

2. **啟用 Apple**：
   - 啟用「**Apple**」開關

3. **配置 Apple**：
   - **服務 ID**：需要創建 Apple 服務 ID
   - **Apple Team ID**：您的 Apple Developer Team ID
   - **金鑰 ID**：Apple 私鑰 ID
   - **私鑰**：Apple 私鑰文件

**注意**：Apple 登入需要 Apple Developer 帳號（$99/年），配置較複雜。

**簡化方案**：如果暫時不需要 Apple 登入，可以跳過這一步。

---

## 🎯 推薦啟用順序

### 優先啟用（簡單）

1. **Google 登入** ⭐ 推薦
   - 最簡單，不需要額外配置
   - 用戶使用率高

2. **Facebook 登入**
   - 需要 Facebook App
   - 配置相對簡單

### 可選（需要開發者帳號）

3. **Apple 登入**
   - 需要 Apple Developer 帳號
   - 配置較複雜

---

## 🧪 測試社交登入

### 測試步驟

1. **刷新應用**（或等待部署完成）
2. **打開登入頁面**
3. **點擊社交登入按鈕**：
   - 應該會彈出登入視窗
   - 完成登入後自動進入應用

### 如果遇到問題

1. **彈出視窗被阻擋**：
   - 允許瀏覽器彈出視窗
   - 或使用無痕模式測試

2. **登入失敗**：
   - 檢查 Firebase Console 中是否已啟用
   - 檢查控制台錯誤訊息
   - 確認配置正確

---

## 📝 完成檢查清單

- [ ] ✅ Google 登入已啟用
- [ ] ✅ Facebook 登入已啟用（可選）
- [ ] ✅ Apple 登入已啟用（可選）
- [ ] ✅ 已測試 Google 登入
- [ ] ✅ 已測試 Facebook 登入（如果啟用）
- [ ] ✅ 已測試 Apple 登入（如果啟用）

---

## 💡 提示

### 關於 AI 功能

**注意**：使用社交登入的用戶，因為沒有密碼，無法自動同步 Railway token。

**解決方案**：
1. 社交登入用戶首次使用 AI 功能時，可以提示設置密碼
2. 或者讓 AI 功能也使用 Firebase（需要 Cloud Functions）

### 關於用戶資料

社交登入會自動獲取：
- 電子郵件
- 顯示名稱
- 頭像 URL

這些資料會自動保存到 Firestore。

---

## 🚀 下一步

1. **在 Firebase Console 中啟用社交登入**
2. **測試功能**
3. **告訴我結果**

完成後告訴我！🎉


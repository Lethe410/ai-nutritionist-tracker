# å®Œæ•´éƒ¨ç½²æ•™å­¸ - å¾é›¶é–‹å§‹

## ğŸ“‹ å‰ç½®æº–å‚™

1. **GitHub å¸³è™Ÿ**ï¼šå¦‚æœæ²’æœ‰ï¼Œè«‹å…ˆè¨»å†Š https://github.com
2. **Railway å¸³è™Ÿ**ï¼šç”¨æ–¼éƒ¨ç½²å¾Œç«¯ï¼ˆå…è²»æ–¹æ¡ˆå³å¯ï¼‰
3. **Google Gemini API Key**ï¼šå¦‚æœé‚„æ²’æœ‰ï¼Œè«‹å‰å¾€ https://makersuite.google.com/app/apikey å–å¾—

---

## ğŸš€ ç¬¬ä¸€æ­¥ï¼šå°‡ä»£ç¢¼æ¨é€åˆ° GitHub

### 1.1 åˆå§‹åŒ– Gitï¼ˆå¦‚æœé‚„æ²’åˆå§‹åŒ–ï¼‰

æ‰“é–‹çµ‚ç«¯ï¼Œåœ¨å°ˆæ¡ˆç›®éŒ„åŸ·è¡Œï¼š

```bash
# æª¢æŸ¥æ˜¯å¦å·²ç¶“åˆå§‹åŒ–
git status

# å¦‚æœé¡¯ç¤º "not a git repository"ï¼ŒåŸ·è¡Œï¼š
git init
```

### 1.2 å‰µå»º GitHub å€‰åº«

1. å‰å¾€ https://github.com/new
2. å€‰åº«åç¨±ï¼š`ai-nutritionist-tracker`ï¼ˆæˆ–æ‚¨å–œæ­¡çš„åç¨±ï¼‰
3. é¸æ“‡ **Public**ï¼ˆGitHub Pages éœ€è¦ï¼‰
4. **ä¸è¦**å‹¾é¸ "Initialize this repository with a README"
5. é»æ“Š "Create repository"

### 1.3 æ¨é€ä»£ç¢¼

åœ¨çµ‚ç«¯åŸ·è¡Œï¼ˆå°‡ `YOUR_USERNAME` æ›¿æ›ç‚ºæ‚¨çš„ GitHub ç”¨æˆ¶åï¼‰ï¼š

```bash
# æ·»åŠ æ‰€æœ‰æ–‡ä»¶
git add .

# æäº¤
git commit -m "Initial commit: NutriAI app"

# æ·»åŠ é ç¨‹å€‰åº«ï¼ˆæ›¿æ› YOUR_USERNAMEï¼‰
git remote add origin https://github.com/YOUR_USERNAME/ai-nutritionist-tracker.git

# æ¨é€åˆ° GitHub
git branch -M main
git push -u origin main
```

**å¦‚æœé‡åˆ°èªè­‰å•é¡Œ**ï¼š
- ä½¿ç”¨ GitHub Personal Access Token ä½œç‚ºå¯†ç¢¼
- æˆ–ä½¿ç”¨ GitHub Desktop æ‡‰ç”¨ç¨‹å¼

---

## ğŸ”§ ç¬¬äºŒæ­¥ï¼šéƒ¨ç½²å¾Œç«¯åˆ° Railway

### 2.1 è¨»å†Š Railway

1. å‰å¾€ https://railway.app/
2. é»æ“Š "Start a New Project"
3. é¸æ“‡ "Login with GitHub"
4. æˆæ¬Š Railway è¨ªå•æ‚¨çš„ GitHub

### 2.2 éƒ¨ç½²å¾Œç«¯

1. åœ¨ Railway å„€è¡¨æ¿ï¼Œé»æ“Š "New Project"
2. é¸æ“‡ "Deploy from GitHub repo"
3. é¸æ“‡æ‚¨çš„ `ai-nutritionist-tracker` å€‰åº«
4. Railway æœƒè‡ªå‹•åµæ¸¬ä¸¦é–‹å§‹éƒ¨ç½²

### 2.3 è¨­ç½®ç’°å¢ƒè®Šæ•¸

1. é»æ“Šéƒ¨ç½²çš„æœå‹™
2. é»æ“Š "Variables" æ¨™ç±¤
3. æ·»åŠ ä»¥ä¸‹ç’°å¢ƒè®Šæ•¸ï¼š

| è®Šæ•¸åç¨± | å€¼ | èªªæ˜ |
|---------|-----|------|
| `API_KEY` | æ‚¨çš„ Google Gemini API Key | å¾ Google AI Studio å–å¾— |
| `JWT_SECRET` | ä»»æ„å­—ä¸²ï¼ˆå¦‚ï¼š`mysecretkey123456`ï¼‰ | ç”¨æ–¼ JWT ç°½å |
| `NODE_ENV` | `production` | ç”Ÿç”¢ç’°å¢ƒæ¨™è¨˜ |

**æ³¨æ„**ï¼š`PORT` è®Šæ•¸ Railway æœƒè‡ªå‹•è¨­ç½®ï¼Œä¸éœ€è¦æ‰‹å‹•æ·»åŠ ã€‚

### 2.4 ç²å–å¾Œç«¯ URL

1. éƒ¨ç½²å®Œæˆå¾Œï¼Œé»æ“Šæœå‹™
2. é»æ“Š "Settings" æ¨™ç±¤
3. æ‰¾åˆ° "Domains" å€å¡Š
4. é»æ“Š "Generate Domain" æˆ–ä½¿ç”¨ç¾æœ‰åŸŸå
5. **è¤‡è£½é€™å€‹ URL**ï¼ˆä¾‹å¦‚ï¼š`https://your-app.railway.app`ï¼‰

---

## ğŸŒ ç¬¬ä¸‰æ­¥ï¼šé…ç½®å‰ç«¯ API URL

### 3.1 åœ¨ GitHub è¨­ç½® Secret

1. å‰å¾€æ‚¨çš„ GitHub å€‰åº«
2. é»æ“Š "Settings" â†’ "Secrets and variables" â†’ "Actions"
3. é»æ“Š "New repository secret"
4. æ·»åŠ ï¼š
   - **Name**: `VITE_API_URL`
   - **Value**: `https://your-app.railway.app/api`ï¼ˆæ›¿æ›ç‚ºæ‚¨çš„ Railway URLï¼‰
5. é»æ“Š "Add secret"

### 3.2 æ›´æ–° GitHub Actions å·¥ä½œæµ

å·¥ä½œæµå·²ç¶“é…ç½®å¥½ï¼Œæœƒè‡ªå‹•ä½¿ç”¨é€™å€‹ Secretã€‚

---

## ğŸ“¦ ç¬¬å››æ­¥ï¼šå•Ÿç”¨ GitHub Pages

### 4.1 è¨­ç½® GitHub Pages

1. åœ¨ GitHub å€‰åº«ä¸­ï¼Œé»æ“Š "Settings"
2. å·¦å´é¸å–®æ‰¾åˆ° "Pages"
3. åœ¨ "Source" ä¸‹é¸æ“‡ï¼š**GitHub Actions**
4. å„²å­˜

### 4.2 è§¸ç™¼éƒ¨ç½²

æœ‰å…©ç¨®æ–¹å¼ï¼š

**æ–¹å¼ä¸€ï¼šè‡ªå‹•éƒ¨ç½²**
- æ¨é€ä»£ç¢¼åˆ° `main` åˆ†æ”¯æœƒè‡ªå‹•è§¸ç™¼éƒ¨ç½²

**æ–¹å¼äºŒï¼šæ‰‹å‹•è§¸ç™¼**
1. é»æ“Š "Actions" æ¨™ç±¤
2. é¸æ“‡ "Deploy to GitHub Pages" å·¥ä½œæµ
3. é»æ“Š "Run workflow"
4. é¸æ“‡ `main` åˆ†æ”¯
5. é»æ“Š "Run workflow"

### 4.3 æŸ¥çœ‹éƒ¨ç½²ç‹€æ…‹

1. åœ¨ "Actions" æ¨™ç±¤æŸ¥çœ‹éƒ¨ç½²é€²åº¦
2. éƒ¨ç½²å®Œæˆå¾Œï¼Œå‰å¾€ "Settings" â†’ "Pages"
3. æ‚¨æœƒçœ‹åˆ°ç¶²å€ï¼š`https://YOUR_USERNAME.github.io/ai-nutritionist-tracker/`

---

## ğŸ“± ç¬¬äº”æ­¥ï¼šåœ¨æ‰‹æ©Ÿä¸Šè¨ªå•

### 5.1 ç²å–ç¶²å€

æ‚¨çš„æ‡‰ç”¨ç¶²å€æ ¼å¼ï¼š
```
https://YOUR_USERNAME.github.io/ai-nutritionist-tracker/
```

### 5.2 æ‰‹æ©Ÿè¨ªå•

1. æ‰“é–‹æ‰‹æ©Ÿç€è¦½å™¨
2. è¼¸å…¥ä¸Šè¿°ç¶²å€
3. æ‡‰è©²å¯ä»¥æ­£å¸¸ä½¿ç”¨ï¼

### 5.3 å®‰è£ç‚º PWAï¼ˆå¯é¸ï¼‰

- **Android**: ç€è¦½å™¨é¸å–® â†’ "å®‰è£æ‡‰ç”¨ç¨‹å¼" æˆ– "åŠ åˆ°ä¸»ç•«é¢"
- **iOS**: åˆ†äº«æŒ‰éˆ• â†’ "åŠ å…¥ä¸»ç•«é¢"

---

## âš ï¸ å¸¸è¦‹å•é¡Œæ’é™¤

### å•é¡Œ 1ï¼šå‰ç«¯ç„¡æ³•é€£æ¥åˆ°å¾Œç«¯

**è§£æ±ºæ–¹æ³•**ï¼š
1. ç¢ºèª Railway å¾Œç«¯æ­£åœ¨é‹è¡Œ
2. æª¢æŸ¥ GitHub Secret `VITE_API_URL` æ˜¯å¦æ­£ç¢º
3. ç¢ºèªå¾Œç«¯ URL æ ¼å¼ç‚ºï¼š`https://your-app.railway.app/api`ï¼ˆæ³¨æ„ `/api` çµå°¾ï¼‰

### å•é¡Œ 2ï¼šCORS éŒ¯èª¤

**è§£æ±ºæ–¹æ³•**ï¼š
1. åœ¨ Railway ç’°å¢ƒè®Šæ•¸ä¸­æ·»åŠ ï¼š
   - `ALLOWED_ORIGINS`: `https://YOUR_USERNAME.github.io`
2. é‡æ–°éƒ¨ç½²å¾Œç«¯

### å•é¡Œ 3ï¼šGitHub Pages 404 éŒ¯èª¤

**è§£æ±ºæ–¹æ³•**ï¼š
1. ç¢ºèª `vite.config.ts` ä¸­çš„ `base` è·¯å¾‘èˆ‡å€‰åº«åç¨±ä¸€è‡´
2. æª¢æŸ¥ GitHub Actions éƒ¨ç½²æ˜¯å¦æˆåŠŸ
3. ç­‰å¾…å¹¾åˆ†é˜è®“ GitHub Pages æ›´æ–°

### å•é¡Œ 4ï¼šAPI è«‹æ±‚å¤±æ•—

**è§£æ±ºæ–¹æ³•**ï¼š
1. æª¢æŸ¥ Railway å¾Œç«¯çš„ç’°å¢ƒè®Šæ•¸æ˜¯å¦æ­£ç¢ºè¨­ç½®
2. æŸ¥çœ‹ Railway çš„æ—¥èªŒç¢ºèªå¾Œç«¯æ˜¯å¦æ­£å¸¸é‹è¡Œ
3. ç¢ºèª `API_KEY` æœ‰æ•ˆä¸”æœªè¶…éé…é¡

---

## ğŸ”„ æ›´æ–°æ‡‰ç”¨

ç•¶æ‚¨ä¿®æ”¹ä»£ç¢¼å¾Œï¼š

1. **æäº¤æ›´æ”¹**ï¼š
   ```bash
   git add .
   git commit -m "æ›´æ–°æè¿°"
   git push
   ```

2. **å‰ç«¯æœƒè‡ªå‹•éƒ¨ç½²**ï¼šGitHub Actions æœƒè‡ªå‹•æ§‹å»ºå’Œéƒ¨ç½²

3. **å¾Œç«¯éœ€è¦æ‰‹å‹•é‡æ–°éƒ¨ç½²**ï¼š
   - Railway é€šå¸¸æœƒè‡ªå‹•é‡æ–°éƒ¨ç½²
   - æˆ–æ‰‹å‹•é»æ“Š "Redeploy"

---

## ğŸ“ æª¢æŸ¥æ¸…å–®

éƒ¨ç½²å‰ç¢ºèªï¼š

- [ ] ä»£ç¢¼å·²æ¨é€åˆ° GitHub
- [ ] Railway å¾Œç«¯å·²éƒ¨ç½²ä¸¦é‹è¡Œ
- [ ] ç’°å¢ƒè®Šæ•¸å·²æ­£ç¢ºè¨­ç½®ï¼ˆAPI_KEY, JWT_SECRETï¼‰
- [ ] GitHub Secret `VITE_API_URL` å·²è¨­ç½®
- [ ] GitHub Pages å·²å•Ÿç”¨
- [ ] GitHub Actions éƒ¨ç½²æˆåŠŸ
- [ ] å¯ä»¥åœ¨ç€è¦½å™¨è¨ªå•å‰ç«¯ç¶²å€
- [ ] æ‰‹æ©Ÿå¯ä»¥è¨ªå•ä¸¦æ­£å¸¸ä½¿ç”¨

---

## ğŸ‰ å®Œæˆï¼

éƒ¨ç½²å®Œæˆå¾Œï¼Œæ‚¨å°±å¯ä»¥ï¼š
- âœ… åœ¨ä»»ä½•åœ°æ–¹ç”¨æ‰‹æ©Ÿè¨ªå•æ‡‰ç”¨
- âœ… åˆ†äº«çµ¦æœ‹å‹ä½¿ç”¨
- âœ… éš¨æ™‚æ›´æ–°å’Œæ”¹é€²æ‡‰ç”¨

å¦‚æœ‰å•é¡Œï¼Œè«‹æŸ¥çœ‹ Railway å’Œ GitHub Actions çš„æ—¥èªŒä¾†è¨ºæ–·å•é¡Œã€‚

